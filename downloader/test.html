<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<img crossorigin="anonymous" src="https://rosefile.net/imagecode.php">
<canvas height="80" width="300"></canvas>
<span id="result"></span>
<script>
    const $ = v => document.querySelector(v)
    $("img").onload = async _ => {
        let ctx = $("canvas").getContext("2d")
        ctx.drawImage($("img"), 0, 0)
        let data = $("canvas").toDataURL()
        $("span").innerText = await fetch("http://127.0.0.1:9898/ocr/", {
            method: "POST",
            body: data.substring(22),
            // headers: {
            // "Content-Type": "image/png"
            // }
        }).then(r => r.text())
    }
</script>
</body>
</html>